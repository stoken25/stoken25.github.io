<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge chrome=1">
		<link rel="stylesheet" href="js/lib/bootstrap/css/bootstrap.css" />
		<link rel="stylesheet" href="css/base.css" />
		<link rel="stylesheet" href="css/header.css" />
		<link rel="stylesheet" href="css/style.css" />
		<script type="text/javascript" src="js/jquery-2.1.0.js" ></script>
		<script type="text/javascript" src="js/lib/bootstrap/js/bootstrap.min.js" ></script>
		<script type="text/javascript" src="js/common.js" ></script>
		<title>统计分析-用户统计</title>
		<script>
			$(function(){
				//tabs
				$('.tabs>li').on('click',function(){
					var index=$(this).index();
					switch(index){
						case 0:
						location.href="statisticAnalysis-aias.html";
						break;
						case 1:
						location.href="statisticAnalysis-pasture.html";
						break;
						case 2:
						break;
						case 3:
						location.href="statisticAnalysis-device.html";
						break;
						case 4:
						location.href="statisticAnalysis-msg.html";
						break;
					}
				});
				//subtabs
				$('.subtabs>li').on('click',function(){
					var index=$(this).index();
					$(this).addClass('on').siblings().removeClass('on');
					$('.echartsCont>div').eq(index).show().siblings().hide();
				});
				//图表初始化
				function echartsInit(ec,option){
					ec.setOption(option);
				}
				var echartsCont1 = echarts.init(document.getElementById('div1'));
				//echart图表  //总览-饼图
				$('.subtabs>li').eq(0).on('click',function(){
					echartsInit(echartsCont1,option);
					$('select').show();
					$('select.times').hide();
				});
				var option = {
				    tooltip : {
				        formatter: "{a} <br/>{b} : {c} ({d}%)"
				    },
				    color:['#be372c','#304556','#65a0a9','#d18360'],
				    legend: {
				        data:['IOS','android','绑定设备用户']
				    },
				    series : [
				        {
				            name:'用户比例',
				            type:'pie',
				            center : ['50%', '40%'],
				            radius : 80,
				            itemStyle : {
				                normal : {
				                    label : {
				                        position : 'inner'
				                    },
				                    labelLine : {
				                        show : false
				                    }
				                },
				                emphasis : {
				                    label : {
				                        show : true,
				                        formatter : "{b}\n{d}%"
				                    }
				                }
				                
				            },
				            data:[
				                {value:335, name:'IOS'},
				                {value:679, name:'android'},
				            ]
				        },
				        {
				            name:'用户比例',
				            type:'pie',
				            center : ['50%', '40%'],
				            radius : [130, 170],
				            data:[
				                {value:335, name:'绑定设备用户'},
				            ]
				        }
				    ]
				};
				echartsInit(echartsCont1,option);
				//echart图表 按区域
				var echartsCont2 = echarts.init(document.getElementById('div2'));
				$('.subtabs>li').eq(1).on('click',function(){
					echartsInit(echartsCont2,option1);
					$('select').show();
					$('select.times').hide();
				});
				var option1 = {
					color:['#9de3d9','#b9da7f'],
					tooltip : {
					    trigger: 'axis',
					    axisPointer: {
				            type: 'shadow'
				        }
					},
				    legend: {
				       data:['IOS用户','android用户']
				    },
				    xAxis : [
				        {
				            type : 'category',
				            data : ['木门','石河子','呼和浩特','包头','银川','乌海',' 通辽']
				        }
				    ],
				    yAxis : [
				        {
				            type : 'value'
				        }
				    ],
				    series : [
				        {
				            name:'IOS用户',
				            type:'bar',
				            data:[320, 350, 300, 350, 380, 340, 310]
				        },
				        {
				            name:'android用户',
				            type:'bar',
				            data:[130, 160, 110, 150, 120, 250, 210]
				        }
				    ]
				};
				//echart图表 按时间
				var echartsCont3 = echarts.init(document.getElementById('div3'));
				$('.subtabs>li').eq(2).on('click',function(){
					echartsInit(echartsCont3,option2);
					$('select').hide();
					$('select.times').show();
				});
				var option2 = {
					color:['#9de3d9','#b9da7f'],
					tooltip : {
					    trigger: 'axis',
					    axisPointer: {
				            type: 'shadow'
				        }
					},
				    legend: {
				       data:['IOS用户','android用户']
				    },
				    xAxis : [
				        {
				            type : 'category',
				            data : ['2011','2012','2013','2014','2015','2016',' 2017']
				        }
				    ],
				    yAxis : [
				        {
				            type : 'value'
				        }
				    ],
				    series : [
				        {
				            name:'IOS用户',
				            type:'bar',
				            data:[120, 150, 100, 150, 280, 240, 310]
				        },
				        {
				            name:'android用户',
				            type:'bar',
				            data:[130, 260, 190, 450, 320, 150, 210]
				        }
				    ]
				};
			});
		</script>
	</head>
	<body>
		<div class="header clearfix">
			<a class="navbar-brand" href="#">
			    <img alt="Brand" src="images/logo.png">
			</a>
			<div class="fr">
				<ul class="nav clearfix">
					<li><a href="realTimeLocation.html">实时定位</a></li>
					<li><a href="electricFence.html">电子围栏</a></li>
					<li><a href="locusReplay.html">轨迹回放</a></li>
					<li><a href="alarms.html">消息中心</a></li>
					<li><a href="remoteControl.html">远程操控</a></li>
					<li><a href="deviceManagement.html">设备管理</a></li>
					<li class="active"><a href="statisticAnalysis-aias.html">统计分析</a></li>
					<li><a href="baseInfo.html">信息管理</a></li>
					<li><a href="userSetting.html">系统设置</a></li>
				</ul>
				<div class="info clearfix">
					<a href="#" class="exit fr">退出</a>
					<span class="user fr">欢迎李某某</span>
				</div>
			</div>
		</div>
		<div class="userCont">
			<ul class="tabs clearfix">
				<li>牲口统计</li>
				<li>牧场统计</li>
				<li class="active">用户统计</li>
				<li>设备统计</li>
				<li>消息统计</li>
			</ul>
			<div class="analysis">
				<ul class="subtabs clearfix">
					<li class="on">总览</li>
					<li>按区域</li>
					<li>按时间</li>
				</ul><select>
					<option>全国</option>
				</select>
				<select class="times">
					<option>年</option>
					<option>月</option>
					<option>周</option>
					<option>日</option>
				</select>
				<div class="echartsCont">
					<div id="div1"></div>
					<div id="div2"></div>
					<div id="div3"></div>
				</div>
			</div>
		</div>
		<script type="text/javascript" src="js/lib/echarts.min.js" ></script>
	</body>
</html>